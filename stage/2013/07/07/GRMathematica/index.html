
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>做广义相对论基本计算的Mathematica包</title>
    
    <meta name="author" content="YangBin">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/css/syntax.css" rel="stylesheet" type="text/css" media="all">

    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/images/favicon.ico">
    <!-- Update these with your own images
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
    
      <script type="text/x-mathjax-config">
	MathJax.Hub.Config({
	  /*showProcessingMessages: false,*/
	  jax: ["input/TeX", "output/HTML-CSS"],
	  TeX: {
		TagSide: "left",
		Macros: {
		  /*RR: '{\\bf R}',
		  bold: ['{\\bf #1}',1]*/
		  sdash: '{|\\!\\!\\!\\sim}'
		}
	  },
	  tex2jax: {
		  inlineMath: [ ['$','$'], ["\\(","\\)"] ],
		  processEscapes: true
	  }
	});
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript"
		src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
  </head>

  <body>
    <!--[if lt IE 8]><div style='border:1px solid #F7941D;background:#FEEFDA;text-align:center;clear:both;height:75px;position:relative;'><div style='position:absolute;right:3px;top:3px;font-family:courier new;font-weight:bold;'><a href='#' onclick='javascript:this.parentNode.parentNode.style.display="none";return false;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-cornerx.jpg' style='border:none;' alt='Close this notice'/></a></div><div style='width:640px;margin:0 auto;text-align:left;padding:0;overflow:hidden;color:black;'><div style='width:75px;float:left;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-warning.jpg' alt='Warning!'/></div><div style='width:275px;float:left;font-family:Arial,sans-serif;'><div style='font-size:14px;font-weight:bold;margin-top:12px;'>You are using an outdated browser</div><div style='font-size:12px;margin-top:6px;line-height:12px;'>For a better experience using this site, please upgrade to a modern web browser.</div></div><div style='width:75px;float:left;'><a href='http://www.firefox.com' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border:none;' alt='Get Firefox 3.5'/></a></div><div style='width:75px;float:left;'><a href='http://www.browserforthebetter.com/download.html' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border:none;' alt='Get IE 8'/></a></div><div style='width:73px;float:left;'><a href='http://www.apple.com/safari/download/' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border:none;' alt='Get Safari 4'/></a></div><div style='float:left;'><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border:none;' alt='Get Google Chrome'/></a></div></div></div><![endif]-->


    <div class="navbar" id="top-navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">YangBin's Horizon</a>
          <ul class="nav">
            
            
            


  
    
    	
    	<li><a href="/about.html">关于</a></li>
    	
    
  
    
  
    
    	
    	<li><a href="/stage/about.html">关于</a></li>
    	
    
  
    
  
    
  
    
  
    
    	
    	<li><a href="/stage/tags.html">标签</a></li>
    	
    
  
    
  
    
    	
    	<li><a href="/stage/pages.html">页面</a></li>
    	
    
  
    
    	
    	<li><a href="/stage/categories.html">分类</a></li>
    	
    
  
    
    	
    	<li><a href="/stage/archive.html">归档</a></li>
    	
    
  
    
    	
    	<li><a href="/stage/gists.html">Gists</a></li>
    	
    
  
    
  
    
    	
    	<li><a href="/stage/message.html">留言</a></li>
    	
    
  
    
  
    
    	
    	<li><a href="/message.html">留言</a></li>
    	
    
  
    
  
    
  



          </ul>
          <ul class="nav subscription pull-right" data-subscription="rss">
            <li>
              <a href="/atom.xml" rel="nofollow" title="subscribe via RSS">RSS</a>
            </li>
          </ul>
          <form class="navbar-search pull-right" method="get" action="http://www.google.com/search" target="google_window">
            <label for="g_search" class="hidden"></label>
            <input id="g_search" type="text" class="search-query" placeholder="Search..." name="q" />
            <input type="submit" name=”btnG” style="display:none" id="searchsubmit" value="Search" />
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="hl" value="zh-CN" />
            <input type="hidden" name="domains" value="http://yangbinblog.tk" />
            <input type="hidden" name="sitesearch" value="http://yangbinblog.tk" />
          </form>
        </div>
      </div>
    </div>

    <div class="container">

      <div id="main-content" class="content">
        
<div class="page-header">
    <h1>做广义相对论基本计算的Mathematica包 <small><!--Supporting tagline--></small></h1>
</div>

<div class="row">
  <div id="article_indent" class="span9 pull-left">
    <div class="span3 article_published">发表于
      <span class="date">07 July 2013</span>
      <div class="article_gplus"><div class="g-plusone" data-size="small" data-annotation="none"></div></div>
    </div>
    <div class="clear"></div>
    
      <h2 id="section">缘由</h2>

<p>使用符号计算软件Mathmatica做广义相对论计算的包有很多, 最知名的如<a href="http://grtensor.phy.queensu.ca/">GRTensor</a>. 但是我觉得这些包都太庞大, 功能过多, 使用不便, 因为就我个人而言, 这些包中很多功能实际上用不到.</p>

<p>为此, 我自己写了一个只有七个函数的简单包<a href="https://files.dropbox.com/u/36755974/GR.m" title="点此下载">GR</a>, 可以计算Einstein张量, 克里斯多菲尔记号, 外尔张量等. 您可以随便改动或传播这个包, 不用注明出处.</p>

<p>需要提到的是, 这个包并非完全由我原创. 不过是把<a href="http://web.physics.ucsb.edu/~hartle/">Gravity: An Introduction to Einstein’s General Relativity</a>附加的代码封装成了包. 在这个过程中我做了些小改动. James Hartle的这本书是学习广义相对论的名著, 如果您觉着这个包好用, 感谢Hartle老先生好了, 譬如买他一本书聊表谢意.</p>

<p>实际上用来做符号计算的软件很多, 如Maxima, Cadabra, Maple, Reduce等等. Maxima是符号计算软件之父, 使用Lisp语言, Mathematica<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>从它身上借鉴了非常多的东西, Mathematica本身也是使用符号语言. Cadabra底层使用C++语言, 但是软件本身语法使用”Latex语言”, 这对科技工作者基本就是自然语言了. Cadabra本意是为弦论学家设计的符号计算软件, 功能极其强大. 更让人惊喜的是它的输出界面如同Latex排版的一样, 极其漂亮. 但Cadabra还不是很成熟. 至于Maple大家都知道是老牌符号计算软件了, 输出界面也很漂亮, 内置了非常多的物理数学包, 相当专业. 至于Ruduce, 那也是祖师级的符号推导软件. 当年我老师的师兄去霍金的研究组做博后, 回来说自己的一大收获就是学会了使用Ruduce, 可见Ruduce当年的风靡程度.</p>

<h2 id="section-1">使用方法</h2>

<p>在你安装Mathmatica的目录, 找到Addons文件夹, 将这个包存放在LegacyPackages底下. 这样在Mathmatia启动时, 包会被自动导入.</p>

<p>然后使用命令</p>

<pre><code>&lt;&lt;GR`
</code></pre>

<p>导入<strong>GR</strong>包. 注意这个包的名字就是它的文件名, 如果你还有其它的包和这个包名字冲突, 将会报错.</p>

<h2 id="section-2">使用说明</h2>

<p>以Vaidya黑洞在double null 坐标表示为例:</p>

<script type="math/tex; mode=display"> \displaystyle ds^{2}=-2f(u,v)dudv+r^{2}(u,v)d\Omega^{2}</script>

<p>比如计算其Einstein张量:</p>

<script type="math/tex; mode=display"> \scriptsize\displaystyle \text{Einstein}\left[\left\{\{0,-f[u,v],0,0\},\{-f[u,v],0,0,0\},\left\{0,0,r[u,v]^2,0\right\},\left\{0,0,0,r[u,v]^2\text{Sin}[\theta ]^2\right\}\right\},\{u,v,\theta ,\phi \}\right]</script>

<p>计算结果举例如下:</p>

<script type="math/tex; mode=display"> \text{GR Private}~~ G_{uu}\frac{2 f^{(1,0)}[u,v] r^{(1,0)}[u,v]-2 f[u,v] r^{(2,0)}[u,v]}{f[u,v] r[u,v]}</script>

<script type="math/tex; mode=display"> \text{GR Private}~~G_{vu}\frac{f[u,v]+2 r^{(0,1)}[u,v] r^{(1,0)}[u,v]+2 r[u,v] r^{(1,1)}[u,v]}{r[u,v]^2}</script>

<p>从这个例子你可以看出使用方法非常简单: GR包内建了七个函数:</p>

<pre><code>Chri "计算度规的联络系数"
Riemann "计算Riemann曲率张量"
Ricci "计算Ricci张量"
Ricalar "计算Ricci标量"
Einstein "计算Einstein张量"
Kretschmanscalar "计算Kretschman标量"
Weyl "计算Weyl曲率张量"
</code></pre>

<p>每个函数的参数都是一样的:</p>

<pre><code>函数[度规,坐标]
</code></pre>

<p>注意度规的格式是矩阵, 而坐标是数组. 这在上面的例子中已经清楚的给出来了. 当然最好在Mathmatica中打开这个包, 自己看看源文件, 这样可以一目了然.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>您可能已经注意到了Mathematica的取名方式和iPhone, iPad类似, 这不奇怪. 要知道Wolfram和Jobs是好朋友, Mathematica这名字正是Jobs建议的! 很多人对Wolfram把Mathematica做成收费软件颇有微词, 毕竟Mathematica开始是作为大学的一个研究项目, 后来竟被Wolfram做成私人产品, 并且成了以自己名字命名的公司, 而且目前是世界最大的计算软件公司之一. 不过现在想来, Wolfram有自己的策略. 符号软件是个小众软件, 如果找不到盈利模式它的开发速度将会非常缓慢. 而且如果没有商业模式运作, 符号软件的用户界面也不一定友好. Wolfram把Mathematica做成商业, 早就了Mathematica成为最好用的符号软件. 而且, Wolfram对Mathematica的盗版是放任的, 要知道Mathematica5的序列号竟然也能激活Mathematica8, Wolfram相当于是让那些买不起正版Mathematica软件的人免费使用产品, 也算是业界良心吧! 当然如果你有科研经费, 建议你还是用正版. 相比之下Maxima曾经如日中天, 后来商业化不如Mathematica成功, 随后被开源, 但是Maxima依然不如Mathematica好用. 当然得益于开源, Maxima的Emacs界面那是无与伦比!<a href="#fnref:1" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>

    
    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/stage/2013/07/03/booklist" title="六月书单">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_container">
    <a href="#" class="comment btn btn-primary" onclick="return false;">点击查看评论</a>
    <div id="disqus_thread"></div>
</div>
<script type="text/javascript">
var show_comments = function(){
    var disqus_developer = 1;
    var disqus_shortname = 'yangbinhorizon'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
};

$(document).ready(function(){
  $('#disqus_container>.comment').click(function(){
    $(this).html('加载中……');
	show_comments();
	$(this).remove();
  });
});

</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>

  <div class="span3 pull-right">
    <ul class="nav nav-list">
      <li class="nav-header">分类</li>
      
       
        
        <li>
        
        <a href="/categories.html#physics-ref">physics <span>7</span></a>
        </li>
       
        
        <li class="active">
        
        <a href="/categories.html#stage-ref">stage <span>17</span></a>
        </li>
       
        
        <li>
        
        <a href="/categories.html#math-ref">math <span>1</span></a>
        </li>
       
        
        <li>
        
        <a href="/categories.html#Coding-ref">Coding <span>2</span></a>
        </li>
       
        
        <li>
        
        <a href="/categories.html#IT-ref">IT <span>2</span></a>
        </li>
       
        
        <li>
        
        <a href="/categories.html#essay-ref">essay <span>1</span></a>
        </li>
       
        
        <li>
        
        <a href="/categories.html#Book-ref">Book <span>2</span></a>
        </li>
      
      
        <li class="nav-header">Tags</li>
        
        


  
     
    	<li><a href="/tags.html#Time machine-ref">Time machine <span>5</span></a></li>
     
    	<li><a href="/tags.html#Superluminal-ref">Superluminal <span>3</span></a></li>
    
  



      
    </ul>
  </div>
</div>

<!-- Gplus -->
<script type="text/javascript">
  window.___gcfg = {lang: 'zh-CN'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>



      </div>

      <footer>
      <p>
        This site is powered
        by <a href="https://github.com/mojombo/jekyll">Jekyll</a> at <a href="https://github.com/">Git</a> and
        edited
        with <a href="http://www.gnu.org/software/emacs/">Emacs</a> by <a href="/contact.html">YangBin.</a><br />
      </p>
      </footer>

    </div> <!-- /container -->

    
    <script type="text/javascript" src="/js/sd.js"></script>
  </body>
</html>

